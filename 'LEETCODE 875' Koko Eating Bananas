class Solution {
public:
    int checkTime(vector<int>& piles, int mid, int h) {

        int hours = 0;
        for (int i : piles) {
            hours += ceil((double)i / mid);
        }

        return hours <= h;
    }
    int minEatingSpeed(vector<int>& piles, int h) {

        int minspeed = 1;
        int maxspeed = *max_element(piles.begin(), piles.end());

        while (minspeed < maxspeed) {
            int mid = minspeed + (maxspeed - minspeed) / 2;

            if (checkTime(piles, mid, h)) {
                maxspeed = mid;
            } else {
                minspeed = mid + 1;
            }
        }
        return minspeed;
    }
};
